<!doctype html>
<title>HTMLCollection test</title>
<div class="abc">Fail</div>
<style>style 0</style>
<style>style 1</style>
<style>style 2</style>
<script src=asserts.js></script>
<script>
const abc = document.getElementsByClassName("abc");
assertEquals(abc.length, 1);
abc[0].className = "defg";
assertEquals(abc.length, 0);
const styles = document.getElementsByTagName("style");
assertEquals(styles.length, 3);
for (let i = 0; i < styles.length; ++i)
	assertEquals(styles[i].textContent, "style " + i);
for (const style of styles)
	style.remove();
const x = document.getElementsByClassName("defg")[0];
const children = x.__lookupGetter__("children").apply(x);
children.z = "hi";
assertEquals(x.__lookupGetter__("children").apply(x).z, "hi");
x.textContent = "Success";
</script>
